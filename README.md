# HotKey - 快捷键命令插件

HotKey 是一个轻量级的 Minecraft 插件，允许玩家通过特定的按键组合触发自定义命令。支持多种执行方式（玩家、OP、控制台），并可灵活配置。

## ✨ 功能特性

- **自定义按键触发**：支持 `F` (副手切换)、`Q` (丢弃物品) 及其与 `Shift` (潜行) 的组合键。
- **多种命令执行者**：
  - 以玩家身份执行 (`p:`)
  - 以 OP 身份执行 (`o:`)
  - 以控制台身份执行 (`c:`)
- **变量支持**：支持 `{player}` 变量，自动替换为触发玩家的名称。
- **事件拦截**：触发快捷键时会自动取消原有的游戏行为（如物品不会真的被丢弃或切换），防止误操作。

## 🛠️ 安装与使用

1. 将插件 jar 文件放入服务器的 `plugins` 目录。
2. 重启服务器或加载插件。
3. 编辑 `plugins/HotKey/config.yml` 文件进行配置。
4. 使用 `/hotkey reload` 重载配置。

## 🎮 命令与权限

### 管理员命令

- **`/hotkey reload`**
  - 描述：重载插件配置文件。
  - 权限：`hotkey.command.reload`

## ⚙️ 配置文件 (config.yml)

配置文件允许您开启或关闭特定的快捷键，并定义触发时执行的命令列表。

### 配置项说明

| 按键组合 | 对应配置项 | 说明 |
| :--- | :--- | :--- |
| **Shift + F** | `Shift+F` | 潜行 + 切换副手按键 |
| **Shift + Q** | `Shift+Q` | 潜行 + 丢弃物品按键 |
| **F** | `F` | 切换副手按键 |
| **Q** | `Q` | 丢弃物品按键 |

每个按键组合都有一个 `_Enable` 开关（`true` 为开启，`false` 为关闭）和一个命令列表。

### 命令格式

在命令列表中，必须指定命令的执行方式：

- `o: command` - **以 OP 身份执行** (临时给予 OP 权限执行，随后撤销)
- `p: command` - **以玩家身份执行** (普通权限)
- `c: command` - **以控制台身份执行** (最高权限)

**变量：**
- `{player}`：会被替换为触发该快捷键的玩家名字。

### 示例配置

```yaml
# 玩家执行
# o op (管理员身份执行)
# p player (玩家身份执行)
# c console (控制台身份执行)
# {player} 代表玩家名字

# 开启 Shift+F 快捷键
Shift+F_Enable: true
Shift+F:
  - 'o: say {player} 触发了 Shift+F'  # 以 OP 身份说话

# 关闭 Shift+Q 快捷键
Shift+Q_Enable: false
Shift+Q:
  - 'p: say Shift+Q'

# 关闭 F 快捷键
F_Enable: false
F:
  - 'c: say F'

# 关闭 Q 快捷键
Q_Enable: false
Q:
  - 'c: say Q'
```

## ⚠️ 注意事项

- 插件会拦截绑定的按键事件。例如，如果启用了 `Q` 键绑定，玩家按 Q 时将**不会**丢弃手中的物品。
- 只有启用了对应的 `_Enable: true`，快捷键才会生效。
- 使用 `o:` (OP 身份) 执行命令时请谨慎，确保命令安全。
